!function(S){"use strict";var r=epofw_front_var.currency,p=epofw_front_var.decimal_separator,u=epofw_front_var.thousand_separator,f=epofw_front_var.decimals,t=epofw_front_var.position,a={init:function(){S("form.cart").submit(function(){var e=AWSF.checkValidationForEachFields();if(-1!==jQuery.inArray(!1,e))return!1}),S(document).click(function(e){S(e.target).is(".epofw_dft_colorpicker")||S(".epofw_dft_colorpicker").iris("hide")}),S(".epofw_dft_colorpicker").click(function(){return S(".epofw_dft_colorpicker").iris("hide"),S(this).iris("show"),!1}),S(".epofw_dft_multiselect").length&&S(".epofw_dft_multiselect").select2(),S(".epofw_dft_datepicker").length&&S(".epofw_dft_datepicker").each(function(){var e=S(this).attr("id"),r=S(this).closest(".epofw_tr_se").attr("id"),n=document.getElementById(r).querySelector("td.value"),o="#ff0000",t=S(this),d=t.closest(".epofw_addon_html").data("uqd-attr"),i=AWSF.epofwFieldsMatchParameter(t,"addon_price",""),l=AWSF.epofwFieldsMatchParameter(t,"data_inp_type",""),c=S(this).attr("name").replace("[value]","").replace("[]",""),s=S(this).attr("data-label-name");S("#"+e).datepicker({dateFormat:"dd-mm-yy",onSelect:function(e){var t,a;0<S("#"+r+" td .epofw_error").length&&S("#"+r+" td .epofw_error").remove(),AWSF.isValidDate(e)?(t=s+" - "+e,0===S("tr#tr_"+c).length?(a=AWSF.createTr(e,c,t,i,"",l,d),S("#addon_total #addon_subtotal").before(a)):AWSF.addTrInAddonDetails(e,c,t,i,"",l,d),AWSF.calculateAddonPrice()):(S(this).val(""),(a=document.createElement("p")).className="epofw_error",a.style.color=o,e=document.createTextNode(epofw_front_var.datepicker_select_validation),a.appendChild(e),n.append(a))}}).on("change",function(){0<S("#"+r+" td .epofw_error").length&&S("#"+r+" td .epofw_error").remove();var e,t,a=S(this).val();""===a||AWSF.isValidDate(a)?(e=s+" - "+a,0===S("tr#tr_"+c).length?(t=AWSF.createTr(a,c,e,i,"",l,d),S("#addon_total #addon_subtotal").before(t)):AWSF.addTrInAddonDetails(a,c,e,i,"",l,d),AWSF.calculateAddonPrice()):((t=document.createElement("p")).className="epofw_error",t.style.color=o,a=document.createTextNode(epofw_front_var.datepicker_change_validation),t.appendChild(a),n.append(t),S(this).val(""))})}),S(".epofw_dft_timepicker").length&&S(".epofw_dft_timepicker").each(function(){var e=S(this).attr("id"),a=S(this).closest(".epofw_tr_se").attr("id"),r=document.getElementById(a).querySelector("td.value"),n="#ff0000";S("#"+e).timepicker({timeFormat:"hh:mm:ss TT",onSelect:function(e){var t;0<S("#"+a+" td .epofw_error").length&&S("#"+a+" td .epofw_error").remove(),AWSF.isValidTime(e)||(S(this).val(""),(e=document.createElement("p")).className="epofw_error",e.style.color=n,t=document.createTextNode(epofw_front_var.timepicker_select_validation),e.appendChild(t),r.append(e))}}).on("change",function(){0<S("#"+a+" td .epofw_error").length&&S("#"+a+" td .epofw_error").remove();var e,t=S(this).val();""===t||AWSF.isValidTime(t)||((t=document.createElement("p")).className="epofw_error",t.style.color=n,e=document.createTextNode(epofw_front_var.timepicker_change_validation),t.appendChild(e),r.append(t),S(this).val(""))})}),S(".epofw_dft_colorpicker").length&&S(".epofw_dft_colorpicker").each(function(){var e=S(this),n=e.closest(".epofw_addon_html").data("uqd-attr"),o=AWSF.epofwFieldsMatchParameter(e,"addon_price",""),d=AWSF.epofwFieldsMatchParameter(e,"data_inp_type",""),e=S(this).attr("id"),i=S(this).attr("name").replace("[value]","").replace("[]",""),l=S(this).attr("data-label-name"),c=S(this).closest(".epofw_tr_se").attr("id"),s=document.getElementById(c).querySelector("td.value"),p="#ff0000";S("#"+e).iris({defaultColor:!0,change:function(e,t){var a,t=t.color.toString(),r=(0<S("#"+c+" td .epofw_error").length&&S("#"+c+" td .epofw_error").remove(),""===t||AWSF.isValidColor(t)||((a=document.createElement("p")).className="epofw_error",a.style.color=p,r=document.createTextNode(epofw_front_var.colorpicker_select_validation),a.appendChild(r),s.append(a),S(this).iris("color","")),l+" - "+t);0===S("tr#tr_"+i).length?(a=AWSF.createTr(t,i,r,o,"",d,n),document.querySelector("#addon_total #addon_subtotal").insertAdjacentHTML("beforebegin",a.outerHTML)):AWSF.addTrInAddonDetails(t,i,r,o,"",d,n),AWSF.calculateAddonPrice()},clear:function(e){jQuery(e.target).siblings(".wp-color-picker")[0]&&(S("tr#tr_"+i).remove(),AWSF.calculateAddonPrice())},hide:!0,palettes:!0}).on("change",function(){var e,t=S(this).val();0<S("#"+c+" td .epofw_error").length&&S("#"+c+" td .epofw_error").remove(),""===t||AWSF.isValidColor(t)||((t=document.createElement("p")).className="epofw_error",t.style.color=p,e=document.createTextNode(epofw_front_var.colorpicker_change_validation),t.appendChild(e),s.append(t),S(this).val(""))})});var e=AWSF.epofwGetProductId(),t=S('.cart .quantity input[name="quantity"]').val();AWSF.epofwCheckTable(e,"",t),S(document).on("input",'.epofw_fields_table:visible input[type="text"], .epofw_fields_table:visible input[type="password"], .epofw_fields_table:visible textarea',a.onKeyUpChangeAddon),S(document).on("change",".epofw_fields_table:visible input, .epofw_fields_table:visible textarea",a.onKeyUpChangeAddon),S(document).on("change",".epofw_fields_table:visible select",a.onKeyUpChangeSelectAddon),S(document).on("change",".variations_form .variations select",a.getSelectedVariation),S(document).on("change",".cart.variations_form .quantity .qty",a.getProductQty),S(document).on("change",'.cart input[name="quantity"]',a.updateProductPriceInAddonDetailsOnQtyChange)},isValidTime:function(e){return/^(0?[1-9]|1[0-2]):[0-5][0-9]:[0-5][0-9] (AM|PM)$/i.test(e)},isValidDate:function(e){var t=e.split("-"),a=parseInt(t[0],10),r=parseInt(t[1],10)-1,t=parseInt(t[2],10),n=new Date(t,r,a);return n.getDate()===a&&n.getMonth()===r&&n.getFullYear()===t&&e===S.datepicker.formatDate("dd-mm-yy",n)},isValidColor:function(e){return/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(e)},updateProductPriceInAddonDetailsOnQtyChange:function(){var e=S('input[name="product_id"]').val(),t=S('input[name="variation_id"]').val(),a=(void 0===(e=void 0===e?S(".single_add_to_cart_button").val()||S('button[name="add-to-cart"]').val():e)&&(t=""),S('.variations_form .quantity input[name="quantity"]').val());AWSF.epofwCheckTable(e,t,a)},updateProductPriceInAddonDetails:function(){var e=S('.quantity input[name="quantity"]').val(),t=S("#addon_total #addon_prd_details .addon_price").attr("data-epofw-prd-price"),a=t=S("form.cart").hasClass("bundle_form")&&1<e?(t=S(".bundle_price .price span.woocommerce-Price-amount.amount:last").text()).replace(r,""):t,t=(0<e&&(a=t*e),S("#addon_total #addon_prd_details .addon_price").attr("data-addon-price",a),void 0!==a&&(a=AWSF.number_format(a,f,p,u)),AWSF.setCurrencyPosition(a));document.querySelector("#addon_prd_details .addon_price strong span").textContent=t},checkValidationForEachFields:function(){var r=[];return S(".epofw_fields_table:visible .epofw_td_value").each(function(){var e,t=AWSF.epofwFieldsMatchParameter(S(this),"required","logical_operation"),a=AWSF.epofwFieldsMatchParameter(S(this),"data_inp_type","logical_operation");"radiogroup"===a&&(e="radio"),"checkbox"!==a&&"checkboxgroup"!==a||(e="checkbox"),"text"!==a&&"datepicker"!==a&&"colorpicker"!==a&&"timepicker"!==a||(e="text"),"textarea"!==a&&"number"!==a&&"password"!==a&&"select"!==a&&"multiselect"!==a||(e=a),t&&"rd_status"in t&&"on"===t.rd_status&&(r=AWSF.validateField(e,"#ff0000","This is required field",this,r))}),r},validateField:function(e,t,a,r,n){var o,d=!0;switch(e){case"radio":case"checkbox":d=0<S(r).find('input[type="'+e+'"]').filter(":checked").length;break;case"text":case"textarea":case"number":case"password":d=""!==S(r).find('input[type="'+e+'"]').val();break;case"select":d=""!==S(r).find("select").val();break;case"multiselect":d=0<S(r).find("select > option:selected").length}return d?0<(o=S(r).find(".epofw_error")).length&&o.remove():(S(r).find(".epofw_error").length<1&&((o=document.createElement("p")).className="epofw_error",o.style.color=t,t=document.createTextNode(a),o.appendChild(t),r.appendChild(o)),n.push(!1)),n},getProductQty:function(){var e,t,a,r=AWSF.epofwGetProductId(),n=S(this).val();S("form.cart").hasClass("variations_form")?(a=S(".variations_form").data("product_variations"),e=AWSF.getChosenAttributes(),(a=AWSF.findMatchingVariations(a,e.data))&&(e.count==e.chosenCount?a.hasOwnProperty(0)&&S(".epofw_fields_table").length&&S(".epofw_fields_table").is(":visible")&&(e=a[0].variation_id,t=(a=a[0].display_price).toFixed(f).replace(".",p),S("#addon_prd_details .addon_price").attr("data-addon-price",a),S("#addon_prd_details .addon_price").attr("data-epofw-prd-price",a),a=AWSF.setCurrencyPosition(t),document.querySelector("#addon_prd_details .addon_price strong span").textContent=a,AWSF.calculateAddonPrice(),AWSF.epofwCheckTable(r,e,n)):AWSF.epofwCheckTable(r,"",n))):AWSF.epofwCheckTable(r,"",n)},getSelectedVariation:function(){var e,t=S('.variations_form .quantity input[name="quantity"]').val(),a=S('input[name="product_id"]').val(),r=S(".variations_form").data("product_variations"),n=AWSF.getChosenAttributes(),r=AWSF.findMatchingVariations(r,n.data);r&&(n.count==n.chosenCount?r.hasOwnProperty(0)&&S(".epofw_fields_table").length&&(n=r[0].variation_id,r=r[0].display_price,S("#addon_prd_details .addon_price").attr("data-epofw-prd-price",r),e=r.toFixed(f).replace(".",p),S("#addon_prd_details .addon_price").attr("data-addon-price",r),r=AWSF.setCurrencyPosition(e),document.querySelector("#addon_prd_details .addon_price strong span").textContent=r,AWSF.calculateAddonPrice(),AWSF.epofwCheckTable(a,n,t)):AWSF.epofwCheckTable(a,"",t))},onKeyUpChangeAddon:function(){var e=S(this).closest(".epofw_addon_html").data("uqd-attr"),t=S('.quantity input[name="quantity"]').val();AWSF.epofwDisplayFiledsDataAndDisplay(S(this),t,e)},onKeyUpChangeSelectAddon:function(){var e=S(this).closest(".epofw_addon_html").data("uqd-attr"),t=S('.quantity input[name="quantity"]').val();AWSF.epofwDisplayAnotherFiledsDataAndDisplay(S(this),t,e)},addonPriceChangeToDecimalForCalc:function(e){var t=e;return t=-1!=(e=e.toString()).indexOf(p)?e.replace(p,"."):t},changeAddonDetailsIfTrExists:function(e,t,a,r,n){var o=document.getElementById("tr_"+e),o=(o&&(o=o.querySelector("td:first-child"))&&(o=o.querySelector("div#dv_"+e))&&(o.textContent=t),S("#"+e+"_afq").val()),t=(o&&(r*=o),void 0!==r&&(r=AWSF.number_format(r,f,p,u)),S("tr#tr_"+e).attr("data-udi",n),document.getElementById("tr_"+e)),t=(t&&(n=(o=t.getElementsByTagName("td"))[o.length-1])&&(n.textContent=AWSF.setCurrencyPosition(r)),AWSF.addonPriceChangeToDecimalForCalc(r));S("tr#tr_"+e).find("td:last").attr("data-addon-price",t),S("tr#tr_"+e).find("td:last").attr("data-addon-og-price",a)},createTr:function(e,t,a,r,n,o,d){var i=document.createElement("tr"),d=(i.setAttribute("id","tr_"+t),i.setAttribute("class","addon_item"),i.setAttribute("data-udi",d),document.createElement("td")),l=document.createElement("div"),c=(l.setAttribute("id","dv_"+t),document.createElement("span")),a=(c.setAttribute("class","span_field_lable"),"colorpicker"===o&&(a=a.replace(e,"")),document.createTextNode(a)),e=(c.appendChild(a),"colorpicker"===o&&((a=document.createElement("span")).setAttribute("style","color: "+e+"; font-size:20px; padding: 0;line-height: 0"),o=document.createTextNode("■"),a.appendChild(o),o=document.createTextNode(" "),a.appendChild(o),(o=document.createElement("label")).setAttribute("class","label_field_lable"),e=document.createTextNode(e),o.appendChild(e),c.appendChild(a),c.appendChild(o)),l.appendChild(c),d.appendChild(l),document.createElement("td")),a=(e.setAttribute("class","addon_price"),AWSF.addonPriceChangeToDecimalForCalc(r)),o=S("#"+t+"_afq").val(),c=(o&&(r*=o),AWSF.addonPriceChangeToDecimalForCalc(r));return e.setAttribute("data-addon-price",c),e.setAttribute("data-addon-og-price",a),void 0!==r&&(r=AWSF.number_format(r,f,p,u)),r=AWSF.setCurrencyPosition(r),l=document.createTextNode(r),e.appendChild(l),i.appendChild(d),i.appendChild(e),i},setCurrencyPosition:function(e){return"left_space"==t?e=-1!=e.indexOf("-")?(e=e.replace("-",""),"-"+r+" "+e):r+" "+e:"left"==t?e=-1!=e.indexOf("-")?(e=e.replace("-",""),"-"+r+e):r+e:"right_space"==t?e=-1!=e.indexOf("-")?"-"+(e=e.replace("-",""))+" "+r:e+" "+r:"right"==t&&(-1!=e.indexOf("-")?e="-"+(e=e.replace("-",""))+r:e+=r),e},addTrInAddonDetails:function(e,t,a,r,n,o,d){var i,l,c,s=S("#addon_total");""!==e?(0===s.find("tr#tr_"+t).length?i=AWSF.createTr(e,t,a,r,n,o,d):(s.find("#dv_"+t).length&&s.find("#dv_"+t).remove(),d=(n=document.getElementById("tr_"+t)).getElementsByTagName("td")[0],(l=document.createElement("div")).setAttribute("id","dv_"+t),(c=document.createElement("span")).setAttribute("class","span_field_lable"),"colorpicker"===o&&(a=a.replace(e,"")),a=document.createTextNode(a),c.appendChild(a),"colorpicker"===o&&((a=document.createElement("span")).setAttribute("style","color: "+e+"; font-size:20px; padding: 0;line-height: 0"),o=document.createTextNode("■"),a.appendChild(o),o=document.createTextNode(" "),a.appendChild(o),(o=document.createElement("label")).setAttribute("class","label_field_lable"),e=document.createTextNode(e),o.appendChild(e),c.appendChild(a),c.appendChild(o)),l.appendChild(c),d.appendChild(l),e=n.getElementsByTagName("td")[1],a=AWSF.addonPriceChangeToDecimalForCalc(r),(o=S("#"+t+"_afq").val())&&(r*=o),r&&(void 0!==(c=r)&&(c=AWSF.number_format(r,f,p,u)),d=AWSF.setCurrencyPosition(c),e.textContent=d),l=n.getElementsByTagName("td")[1],o=AWSF.addonPriceChangeToDecimalForCalc(r),l.setAttribute("data-addon-price",o),l.setAttribute("data-addon-og-price",a)),c=document.getElementById("addon_total"),e=document.getElementById("addon_subtotal"),c&&e&&i&&e.insertAdjacentHTML("beforebegin",i.outerHTML)):s.find("tr#tr_"+t).remove()},number_format:function(e,t,a,r){if(null==e)throw new TypeError("number is not valid");e=((e=e.toString())+"").replace(/[^0-9+\-Ee.]/g,"");var e=isFinite(+e)?+e:0,t=isFinite(+t)?Math.abs(t):0,r=void 0===r?",":r,a=void 0===a?".":a,n="";return 3<(n=(t?function(e,t){t=Math.pow(10,t);return""+Math.round(e*t)/t}(e,t):""+Math.round(e)).split("."))[0].length&&(n[0]=n[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,r)),(n[1]||"").length<t&&(n[1]=n[1]||"",n[1]+=new Array(t-n[1].length+1).join("0")),n.join(a)},calculateAddonPrice:function(){AWSF.updateProductPriceInAddonDetails();var e,t,a=[];S(".epofw_fields_table:visible").each(function(){var e=S(this);"display: none;"!==S.trim(S(e).attr("style"))&&a.push(!0)}),!0===a.includes(!0)&&(0===S("#addon_total tr.addon_item").length?S("#addon_total").hide():(S("#addon_total").removeClass("addon_total_hd"),S("#addon_total").show(),e=0,S(".epofw_addon_totals #addon_total:visible:not(.addon_total_hd) .addon_price").each(function(){e=parseFloat(e)+parseFloat(S(this).attr("data-addon-price"))}),void 0!==e&&(e=AWSF.number_format(e,f,p,u)),(t=document.getElementById("addon_subtotal"))&&(t=(t=t.getElementsByTagName("td"))[t.length-1])&&(t=t.querySelector("strong"))&&(t.textContent=AWSF.setCurrencyPosition(e))))},getFieldInputBasedOnType:function(e){var t="";return"select"===e||"multiselect"===e?t="select":"radiogroup"===e?t='input[type="radio"]:checked':"checkboxgroup"===e||"checkbox"===e?t='input[type="checkbox"]:checked':"text"===e||"password"===e||"hidden"===e||"number"===e||"datepicker"===e||"colorpicker"===e||"timepicker"===e?t='input[type="text"]':"textarea"===e&&(t="textarea"),t},findMatchingVariations:function(e,t){for(var a=[],r=e.length,n=0;n<r;n++){var o=e[n];AWSF.isMatch(o.attributes,t)&&a.push(o)}return a},isMatch:function(e,t){var a,r,n,o=!0;for(a in e)e.hasOwnProperty(a)&&(r=e[a],n=t[a],void 0!==r)&&void 0!==n&&0!==r.length&&0!==n.length&&r!==n&&(o=!1);return o},getChosenAttributes:function(){var a={},r=0,n=0;return S(".variations_form").find(".variations select").each(function(){var e=S(this).data("attribute_name")||S(this).attr("name"),t=S(this).val()||"";0<t.length&&n++,r++,a[e]=t}),{count:r,chosenCount:n,data:a}},epofwMatchParameter:function(e,t,a,r,n){for(var o=[],d=(o.push(!0),e.length),i=0;i<d;i++){var l,c,s,p,u=e[i],f=u.opt,_=u.cnd,h=u.val;if("prdvar"===_||"qty"===_||"dp"===_)if(p=(p="prdvar"===_?a:"qty"===_?r:"dp"===_?(s=(c=new Date).getMonth().length+1===1?c.getMonth()+1:"0"+(c.getMonth()+1),("0"+c.getDate()).slice(-2)+"-"+s+"-"+c.getFullYear()):t).toString()){if("dp"===_){for(var m=h.toString(),v=[m[0]+m[1]],A=m.length,F=2;F<A;F++)F<=4&&m[F]%2==0?v.push("-",m[F]):v.push(m[F]);h=[v.join("")]}else h=u.val.toString();if(("iet"===f||"net"===f)&&(l=!0===h.includes(p)),o.push(l),"qty"===_||"dp"===_){for(var g=h.length,w=0;w<g;w++)"lt"===f?l=h[w]>p:"let"===f?l=h[w]>=p:"gt"===f?l=h[w]<p:"get"===f&&(l=h[w]<=p);o.push(l)}}else o.push(l=!1)}return 0<=S.inArray(!1,o)?(S(n).each(function(e,t){S("#tr_"+t).remove(),AWSF.calculateAddonPrice()}),!1):(S(n).each(function(){AWSF.calculateAddonPrice()}),!0)},epofwFieldsMatchParameter:function(e,t,a){a=("logical_operation"===a?e:e.parent().closest(".epofw_td_value")).attr("data-epofw_sa");if(a)return JSON.parse(a)[0][t]},epofwCheckTable:function(n,o,d){S(".epofw_fields_table").each(function(){var e=S(this),t=S(this).data("epofw_attr"),a=S(this).closest(".epofw_addon_html").data("uqd-attr"),r=[];S(this).find(".epofw_tr_se:visible").each(function(){r.push(S(this).find("input, select, textarea").attr("id"))}),!0===AWSF.epofwMatchParameter(t,n,o,d,r)?(e.hasClass("epofw_field_qty_hd")&&e.removeClass("epofw_field_qty_hd"),e.hasClass("epofw_field_dnl")&&e.removeClass("epofw_field_dnl"),AWSF.epofwGetFieldData(e,d,a),AWSF.calculateAddonPrice(),e.show()):(AWSF.epofwGetFieldData(e,d,a),S('#addon_total tr[data-udi="'+a+'"]').each(function(){S("#"+S(this).attr("id")).remove()}),AWSF.calculateAddonPrice(),e.hide())})},getFieldPriceBasedOnPriceOptions:function(e,t,a){return AWSF.addonPriceChangeToDecimalForCalc(a)},epofwGetFieldData:function(e,t,a){S(e).find(".epofw_tr_se:visible input, .epofw_tr_se:visible textarea").each(function(){AWSF.epofwDisplayFiledsDataAndDisplay(S(this),t,a)}),S(e).find(".epofw_tr_se:visible select").each(function(){AWSF.epofwDisplayAnotherFiledsDataAndDisplay(S(this),t,a)})},epofwMatchOptionsBasedOnCheckedValue:function(e,t){if(e.hasOwnProperty(t))return e[t]},epofwDisplayFiledsDataAndDisplay:function(e,t,a){if(!e.closest(".epofw_tr_se").is(":hidden")){var r=AWSF.epofwFieldsMatchParameter(e,"data_inp_type","");if("select"!==r&&"multiselect"!==r){var n,o,d,i,l,c,s,p,u,r=AWSF.epofwFieldsMatchParameter(e,"data_inp_type","");if(S('.quantity input[name="quantity"]').val(),"checkbox"===r){var f,_,h,m=e.attr("id"),v={},A=(S(S('input[name="'+e.attr("name")+'"]:checked')).each(function(){o=S(this).val(),u=AWSF.epofwFieldsMatchParameter(S(this),"options",""),(s=AWSF.epofwMatchOptionsBasedOnCheckedValue(u,o))&&(i=s[1],d=AWSF.getFieldPriceBasedOnPriceOptions(o,i,s[2])),v[o]=d}),0),F=[];for(f in v)F.push(f),A=parseFloat(A)+parseFloat(v[f]);F&&(o=F.join()),d=A,l=(n=e.attr("data-label-name"))+" - "+o,p=e.attr("name").replace("[value]","").replace("[]",""),""!==o?(0===S("tr#tr_"+p).length?c=AWSF.createTr(o,p,l,d,"",r,a):AWSF.changeAddonDetailsIfTrExists(p,l,A,d,a),_=document.getElementById("addon_total"),h=document.getElementById("addon_subtotal"),_&&h&&c&&h.insertAdjacentHTML("beforebegin",c.outerHTML)):S("tr#tr_"+p).remove()}else if("checkboxgroup"===r)o="",p=e.attr("name").replace("[value]","").replace("[]",""),e.is(":checked")?(o=e.val(),u=AWSF.epofwFieldsMatchParameter(e,"options",""),(s=AWSF.epofwMatchOptionsBasedOnCheckedValue(u,o))&&(i=s[1],d=AWSF.getFieldPriceBasedOnPriceOptions(o,i,s[2]),n=e.attr("data-label-name"),_=e.parent().parent().parent().attr("id"),S("#"+_+" .epofw_field_checkboxgroup").prop("checked",!1),e.prop("checked",!0),m=e.attr("id"),l=n+" - "+o,AWSF.addTrInAddonDetails(o,p,l,d,"",r,a))):S("tr#tr_"+p).remove();else if("radiogroup"===r)o="",p=e.attr("name").replace("[value]","").replace("[]",""),e.is(":checked")&&(o=e.val(),u=AWSF.epofwFieldsMatchParameter(e,"options",""),s=AWSF.epofwMatchOptionsBasedOnCheckedValue(u,o))&&(i=s[1],d=AWSF.getFieldPriceBasedOnPriceOptions(o,i,s[2]),n=e.attr("data-label-name"),m=e.attr("id"),l=n+" - "+o,AWSF.addTrInAddonDetails(o,p,l,d,"",r,a));else if("html"===r)m=e.attr("id"),n=AWSF.epofwFieldsMatchParameter(e,"data-label-name",""),o=e.val(),d=AWSF.epofwFieldsMatchParameter(e,"addon_price",""),i=AWSF.epofwFieldsMatchParameter(e,"addon_price_type",""),d=AWSF.getFieldPriceBasedOnPriceOptions(o,i,d),l=n+" - "+o,o&&AWSF.addTrInAddonDetails(o,m,l,d,"",r,a);else{if(void 0===r)return;m=e.attr("id"),n=e.attr("data-label-name"),o=e.val(),p=e.attr("name").replace("[value]","").replace("[]",""),d=AWSF.epofwFieldsMatchParameter(e,"addon_price",""),i=AWSF.epofwFieldsMatchParameter(e,"addon_price_type",""),d=AWSF.getFieldPriceBasedOnPriceOptions(o,i,d),l=n+" - "+o,AWSF.addTrInAddonDetails(o,p,l,d,"",r,a)}AWSF.calculateAddonPrice()}}},epofwMultiSelectData:function(e,t,n,a,r,o,d,i,l,c,s){if(!e.closest(".epofw_tr_se").is(":hidden")){var p=S("#"+e.attr("id")).select2("data");if(p){var u,f={},_=(S(p).each(function(e,t){var a,r=AWSF.epofwMatchOptionsBasedOnCheckedValue(l,t.id);r&&(a=r[1],a=AWSF.getFieldPriceBasedOnPriceOptions(n,a,r[2]),f[t.id]=a)}),0),h=[];for(u in f)h.push(u),_=parseFloat(_)+parseFloat(f[u]);r=_,o=t+" - "+(n=h?h.join():n),"All"===S.trim(n)&&(S("#"+i+" > option").prop("selected","selected"),S("#"+i).trigger("change"));p=e.attr("name").replace("[value]","").replace("[]","");""!==n?(0===S("tr#tr_"+p).length?d=AWSF.createTr(n,p,o,r,"",a,s):AWSF.changeAddonDetailsIfTrExists(p,o,_,r,s),t=document.getElementById("addon_total"),i=document.getElementById("addon_subtotal"),t&&i&&d&&i.insertAdjacentHTML("beforebegin",d.outerHTML)):S("tr#tr_"+p).remove(),AWSF.calculateAddonPrice()}}},epofwDisplayAnotherFiledsDataAndDisplay:function(e,t,a){var r,n,o,d,i,l,c,s,p,u,f,_,h;e.closest(".epofw_tr_se").is(":hidden")||(r=AWSF.epofwFieldsMatchParameter(e,"data_inp_type",""),void 0===(n=e.parent().children().attr("data-label-name"))&&(n=e.parent().parent().children().children().attr("data-label-name")),o=e.attr("id"),d=e.attr("name").replace("[value]","").replace("[]",""),i=S("tr#tr_"+d).length,"multiselect"===r?(f=AWSF.epofwFieldsMatchParameter(e,"options",""),u="",S("#"+e.attr("id")).on("select2:select",function(){AWSF.epofwMultiSelectData(e,n,u,r,s,l,c,o,f,t,a)}),S("#"+e.attr("id")).on("select2:unselect",function(){AWSF.epofwMultiSelectData(e,n,u,r,s,l,c,o,f,t,a)})):"select"===r&&(u=e.val(),f=AWSF.epofwFieldsMatchParameter(e,"options",""),(h=AWSF.epofwMatchOptionsBasedOnCheckedValue(f,u))&&(_=h[1],p=h[2],s=AWSF.getFieldPriceBasedOnPriceOptions(u,_,h[2]),""!==u)&&void 0!==u&&(l=n+" - "+u),""!==u?(0===i?c=AWSF.createTr(u,d,l,s,"",r,a):AWSF.changeAddonDetailsIfTrExists(d,l,p,s,a),_=document.getElementById("addon_total"),h=document.getElementById("addon_subtotal"),_&&h&&c&&h.insertAdjacentHTML("beforebegin",c.outerHTML)):S("tr#tr_"+d).remove(),AWSF.calculateAddonPrice()))},epofwGetProductId:function(){return S("form.cart").hasClass("variations_form")&&S('input[name="product_id"]').val(),(S("form.cart").hasClass("bundle_form")?S('input[name="add-to-cart"]'):S('button[name="add-to-cart"]')).val()},epofwGetFieldsExtraAttr:function(e){return e.parent().closest(".epofw_td_value").attr("data-epofw_sa")}};S(function(){a.init()}),window.AWSF=a}(jQuery);